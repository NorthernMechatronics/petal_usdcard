# Petal Development Board SD Card Demo

## Introduction

This application demonstrates the usage of the on-board micro SD card of the Petal
Development Board.

## Requirements

### Hardware

- A Petal Development Board
- A Petal Core Board
- A USB C cable
- A Linux or Windows machine
- A micro SD card

### Software

- ARM GNU Toolchain Compiler
- pyOCD
- make
- cmake
- Python
- Visual Studio Code

## Quick Start

1. Select the appropriate compiler version if multiple versions are installed in your system.
2. Select NM180410 Debug or Release as the build variant.
3. Select NM180410 Debug or Release as the run variant.
4. Click the CMAKE extension icon in the Activity Bar on the left.
5. In the primary sidebar, move your mouse cursor to Project Outline and click More Actions (denoted by the three dots ...) to expand the menu.
6. Click on Clean Reconfigure All Projects.
7. Once the configuration process is completed, click on the Build All Projects icon in Project Outline.
8. Once the build is completed, click on Run and Debug in the Activity Bar on the left.
9. In the primary sidebar, ensure that NM180410 Debug is selected in the RUN AND DEBUG drop down box.
10. Click the play button to load and run the program.

## Serial Console Interaction

You can interact with the hardware using a serial connection. In this
example, we will use the Microsoft Serial Monitor extension for VS Code but
you can use any other terminal programs such as Putty or minicom to name a few.

To show a list of supported commands, type `help` at the prompt. Supported commands are

| Command                | Description                                                                         | Example                              |
| ---------------------- | ----------------------------------------------------------------------------------- | ------------------------------------ |
| cat [file]             | Reads and prints data from a text file                                              | `cat file_name.txt`                  |
| cd [directory]         | Changes the current working directory into directory                                | `cd directory`                       |
| echo "string" > [file] | Writes string into a file. Appends if the file already exists.                      | `echo "Hello World" > file_name.txt` |
| ls <directory>         | lists the content in directory or the current directory if no argument is specified | `ls`                                 |
| mkdir [directory]      | Creates directory                                                                   | `mkdir directory`                    |
| rm [directory\|file]   | Deletes a file or a directory recursively                                           | `rm file_name.txt`                   |
| pwd                    | Prints the current working directory                                                | `pwd`                                |

## SD Card

If an SD Card is already inserted, the file system will be mounted on start up. The SD Card
can be inserted or removed anytime. An interrupt is generated by the nDET line anytime an SD
Card is inserted or removed which will mount and unmount the file system automatically.
